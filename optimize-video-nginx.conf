# Add this to your nginx configuration for diamondplusportal.com

# Cache static video files
location ~* \.(mp4|webm)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
    add_header X-Content-Type-Options "nosniff";
    
    # Enable byte-range support for video seeking
    add_header Accept-Ranges bytes;
    
    # Gzip compression for text files (not videos)
    gzip off;
    
    # Increase buffer size for video files
    tcp_nodelay on;
    tcp_nopush on;
    sendfile on;
    
    # Optional: Limit bandwidth per connection (e.g., 1MB/s)
    # limit_rate 1m;
    
    # Optional: After sending 1MB, limit to 200KB/s
    # limit_rate_after 1m;
    # limit_rate 200k;
}
